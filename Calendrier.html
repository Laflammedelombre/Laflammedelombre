<!DOCTYPE html>
<html lang="fr">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Calendrier de l'Avent avec Roulette de la Fortune</title>
<style>
    body {
        font-family: Arial, sans-serif;
        background-color: #000;
        color: #fff;
        text-align: center;
        margin: 0;
        padding: 0;
    }

    h1 {
        font-size: 2em;
        margin: 20px 0;
        color: #e0e0e0;
        font-family: 'Courier New', Courier, monospace;
        text-shadow: 2px 2px 4px #444;
    }

    .calendar {
        display: grid;
        grid-template-columns: repeat(6, 1fr);
        gap: 10px;
        max-width: 900px;
        margin: 0 auto;
        padding: 20px;
    }

    .day {
        background-color: #222;
        border-radius: 10px;
        color: #ddd;
        padding: 15px;
        font-size: 1.2em;
        position: relative;
        cursor: pointer;
        transition: all 0.3s ease;
    }

    .day.opened {
        color: #fff;
    }

    .day-number {
        font-size: 2em;
        font-weight: bold;
        margin-bottom: 10px;
    }

    .day-content {
        font-size: 1.5em;
        color: #b3e5fc;
        display: none;
    }

    .day.opened .day-content {
        display: block;
    }

    .day.opened .day-number {
        display: none;
    }

    /* Style de la roulette */
    .wheel-container {
        position: relative;
        display: flex;
        justify-content: center;
        align-items: center;
        margin: 50px auto;
        width: 300px;
        height: 300px;
    }

    .wheel {
        width: 100%;
        height: 100%;
        border-radius: 50%;
        border: 10px solid #fff;
        box-shadow: 0 0 15px rgba(255, 255, 255, 0.2);
        position: relative;
        transition: transform 4s cubic-bezier(0.33, 1, 0.68, 1);
    }

    .wheel .segment {
        position: absolute;
        width: 50%;
        height: 50%;
        top: 0;
        left: 50%;
        transform-origin: 0 100%;
        background-color: #f85a3e;
        clip-path: polygon(0 0, 100% 0, 50% 100%, 0 100%);
        display: flex;
        align-items: center;
        justify-content: center;
        color: #fff;
        font-weight: bold;
        font-size: 0.8em;
        text-align: center;
        padding: 10px;
    }

    .segment:nth-child(even) { background-color: #f8b400; }

    .pointer {
        position: absolute;
        top: -10px;
        left: 50%;
        transform: translateX(-50%);
        width: 0;
        height: 0;
        border-left: 15px solid transparent;
        border-right: 15px solid transparent;
        border-bottom: 20px solid #fff;
    }

    .popup {
        display: none;
        position: fixed;
        top: 50%;
        left: 50%;
        transform: translate(-50%, -50%);
        background: #333;
        padding: 20px;
        color: #fff;
        border-radius: 10px;
        box-shadow: 0 0 15px rgba(255, 255, 255, 0.2);
    }
</style>
</head>
<body>
    <h1>Calendrier de l'Avent avec Roulette de la Fortune</h1>
    
    <div class="calendar">
        <!-- Cases du calendrier de l'avent -->
        <div class="day" data-day="1"><div class="day-number">1</div><div class="day-content">Découverte mystique 1</div></div>
        <div class="day" data-day="2"><div class="day-number">2</div><div class="day-content">Découverte mystique 2</div></div>
        <div class="day" data-day="3"><div class="day-number">3</div><div class="day-content">Découverte mystique 3</div></div>
        <div class="day" data-day="4"><div class="day-number">4</div><div class="day-content">Découverte mystique 4</div></div>
        <div class="day" data-day="5"><div class="day-number">5</div><div class="day-content">Découverte mystique 5</div></div>
        <div class="day" data-day="6"><div class="day-number">6</div><div class="day-content">Découverte mystique 6</div></div>
        <div class="day" data-day="7"><div class="day-number">7</div><div class="day-content">Découverte mystique 7</div></div>
        <div class="day" data-day="8"><div class="day-number">8</div><div class="day-content">Découverte mystique 8</div></div>
        <div class="day" data-day="9"><div class="day-number">9</div><div class="day-content">Découverte mystique 9</div></div>
        <div class="day" data-day="10"><div class="day-number">10</div><div class="day-content">Découverte mystique 10</div></div>
        <div class="day" data-day="11"><div class="day-number">11</div><div class="day-content">Découverte mystique 11</div></div>
        <div class="day" data-day="12"><div class="day-number">12</div><div class="day-content">Découverte mystique 12</div></div>
        <div class="day" data-day="13"><div class="day-number">13</div><div class="day-content">Découverte mystique 13</div></div>
        <div class="day" data-day="14"><div class="day-number">14</div><div class="day-content">Découverte mystique 14</div></div>
        <div class="day" data-day="15"><div class="day-number">15</div><div class="day-content">Découverte mystique 15</div></div>
        <div class="day" data-day="16"><div class="day-number">16</div><div class="day-content">Découverte mystique 16</div></div>
        <div class="day" data-day="17"><div class="day-number">17</div><div class="day-content">Découverte mystique 17</div></div>
        <div class="day" data-day="18"><div class="day-number">18</div><div class="day-content">Découverte mystique 18</div></div>
        <div class="day" data-day="19"><div class="day-number">19</div><div class="day-content">Découverte mystique 19</div></div>
        <div class="day" data-day="20"><div class="day-number">20</div><div class="day-content">Découverte mystique 20</div></div>
        <div class="day" data-day="21"><div class="day-number">21</div><div class="day-content">Découverte mystique 21</div></div>
        <div class="day" data-day="22"><div class="day-number">22</div><div class="day-content">Découverte mystique 22</div></div>
        <div class="day" data-day="23"><div class="day-number">23</div><div class="day-content">Découverte mystique 23</div></div>
        <div class="day" data-day="24"><div class="day-number">24</div><div class="day-content">Découverte mystique 24</div></div>
    </div>

    <div class="wheel-container">
        <div class="pointer"></div>
        <div class="wheel" id="wheel">
            <!-- Les segments de la roue seront ajoutés par JavaScript -->
        </div>
    </div>
    
    <div class="popup" id="popup"></div>

    <script>
        document.addEventListener("DOMContentLoaded", function() {
            const lots = ["Bijou en pierre de lune", "Carte de tarot personnalisée", "Eau de lune", "Pierre de quartz rose", "Lecture de tarot gratuite"];
            const segments = 360 / lots.length;
            const wheel = document.getElementById("wheel");
            const popup = document.getElementById("popup");

                        // Créer les segments de la roue
            lots.forEach((lot, index) => {
                const segment = document.createElement("div");
                segment.className = "segment";
                segment.style.transform = `rotate(${index * segments}deg) skewY(-${90 - segments}deg)`;
                segment.textContent = lot;
                wheel.appendChild(segment);
            });

            // Fonction pour faire tourner la roue
            function spinWheel() {
                const randomAngle = Math.floor(Math.random() * 360) + 720; // Angle aléatoire + plusieurs tours
                wheel.style.transform = `rotate(${randomAngle}deg)`;

                // Déterminer le lot gagnant et afficher le résultat après la rotation
                setTimeout(() => {
                    const winningSegmentIndex = Math.floor((randomAngle % 360) / segments);
                    const winningLot = lots[winningSegmentIndex];
                    showPopup(`Vous avez gagné : ${winningLot}!`);
                }, 4000); // Temps pour la roue de s'arrêter
            }

            // Fonction pour afficher le pop-up de résultat
            function showPopup(message) {
                popup.textContent = message;
                popup.style.display = "block";
                setTimeout(() => {
                    popup.style.display = "none";
                }, 5000); // Affiche le pop-up pendant 5 secondes
            }

            // Gérer les clics sur les cases du calendrier pour lancer la roue
            const days = document.querySelectorAll(".day");
            days.forEach(day => {
                day.addEventListener("click", function() {
                    day.classList.add("opened"); // Marquer la case comme ouverte
                    day.querySelector(".day-content").textContent = "Bonne chance!";
                    spinWheel(); // Lancer la roue
                });
            });
        });
    </script>
</body>
</html>
