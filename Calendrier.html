<!DOCTYPE html>
<html lang="fr">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Calendrier de l'Avent Ésotérique - Jeu avec Roulette</title>
<style>
    body {
        font-family: Arial, sans-serif;
        background-color: #000;
        color: #fff;
        text-align: center;
        margin: 0;
        padding: 0;
    }

    h1 {
        font-size: 2em;
        margin: 20px 0;
        color: #e0e0e0;
        font-family: 'Courier New', Courier, monospace;
        text-shadow: 2px 2px 4px #444;
    }

    .calendar {
        display: grid;
        grid-template-columns: repeat(6, 1fr);
        gap: 10px;
        max-width: 900px;
        margin: 0 auto;
        padding: 20px;
    }

    .day {
        background-color: #222;
        border-radius: 10px;
        color: #ddd;
        padding: 15px;
        font-size: 1.2em;
        position: relative;
        cursor: pointer;
        transition: all 0.3s ease;
    }

    .day.disabled {
        background-color: #444;
        color: #888;
        cursor: not-allowed;
    }

    .day-number {
        font-size: 2em;
        font-weight: bold;
        margin-bottom: 10px;
    }

    .roulette {
        display: none;
        margin-top: 20px;
        padding: 20px;
        border-radius: 50%;
        width: 200px;
        height: 200px;
        border: 5px solid #e0e0e0;
        color: #000;
        background-color: #fff;
        font-weight: bold;
        display: flex;
        align-items: center;
        justify-content: center;
        animation: spin 3s ease-out;
    }

    @keyframes spin {
        0% { transform: rotate(0deg); }
        100% { transform: rotate(1080deg); } /* Rotation de 3 tours */
    }

    .day-content {
        display: none;
        font-size: 0.9em;
        color: #b3e5fc;
    }

    .day.opened .day-content {
        display: block;
    }

    .day.opened .day-number {
        display: none;
    }
</style>
<script>
    document.addEventListener("DOMContentLoaded", function() {
        const days = document.querySelectorAll(".day");
        const currentDate = new Date();
        const currentDay = currentDate.getDate();

        // Lots possibles (modifiez ici pour les lots)
        const lots = ["Bijou en pierre de lune", "Carte de tarot personnalisée", "Eau de lune", "Pierre de quartz rose", "Lecture de tarot gratuite"];

        days.forEach(day => {
            const dayNumber = day.getAttribute("data-day");

            // Vérification si le jour a déjà été joué dans le stockage local
            if (localStorage.getItem(`day-${dayNumber}-played`) === "true") {
                day.classList.add("disabled");
            }

            day.addEventListener("click", function() {
                if (day.classList.contains("disabled")) return;

                // Tirage aléatoire pour déterminer le gagnant (10% de chance de gagner)
                const winner = Math.random() < 0.1;
                let message;

                if (winner) {
                    message = "Félicitations ! Vous avez gagné pour le jour " + dayNumber + "!";
                    showRoulette(day); // Afficher la roulette
                    localStorage.setItem(`day-${currentDay}-winner`, "true"); // Marquer le gagnant du jour
                } else {
                    message = "Désolé, vous n'avez pas gagné aujourd'hui.";
                }

                alert(message);
                day.classList.add("disabled");
                localStorage.setItem(`day-${dayNumber}-played`, "true"); // Marquer comme joué
            });
        });

        // Fonction pour afficher la roulette et sélectionner un lot aléatoire
        function showRoulette(dayElement) {
            const roulette = document.createElement("div");
            roulette.classList.add("roulette");
            roulette.textContent = "Roulette en cours...";
            document.body.appendChild(roulette);

            // Animation de la roulette avec un délai de 3 secondes pour le résultat
            setTimeout(() => {
                const randomLot = lots[Math.floor(Math.random() * lots.length)];
                roulette.textContent = `Vous avez gagné : ${randomLot}!`;
                roulette.style.animation = "none"; // Arrêter l'animation après le tirage
            }, 3000);
        }
    });
</script>
</head>
<body>
    <h1>Calendrier de l'Avent Ésotérique - Jeu avec Roulette</h1>
    <div class="calendar">
        <!-- Calendrier avec les jours -->
        <div class="day" data-day="1"><div class="day-number">1</div><div class="day-content">Découverte mystique 1</div></div>
        <div class="day" data-day="2"><div class="day-number">2</div><div class="day-content">Découverte mystique 2</div></div>
        <div class="day" data-day="3"><div class="day-number">3</div><div class="day-content">Découverte mystique 3</div></div>
        <div class="day" data-day="4"><div class="day-number">4</div><div class="day-content">Découverte mystique 4</div></div>
        <div class="day" data-day="5"><div class="day-number">5</div><div class="day-content">Découverte mystique 5</div></div>
        <div class="day" data-day="6"><div class="day-number">6</div><div class="day-content">Découverte mystique 6</div></div>
        <div class="day" data-day="7"><div class="day-number">7</div><div class="day-content">Découverte mystique 7</div></div>
        <div class="day" data-day="8"><div class="day-number">8</div><div class="day-content">Découverte mystique 8</div></div>
        <div class="day" data-day="9"><div class="day-number">9</div><div class="day-content">Découverte mystique 9</div></div>
        <div class="day" data-day="10"><div class="day-number">10</div><div class="day-content">Découverte mystique 10</div></div>
        <div class="day" data-day="11"><div class="day-number">11</div><div class="day-content">Découverte mystique 11</div></div>
        <div class="day" data-day="12"><div class="day-number">12</div><div class="day-content">Découverte mystique 12</div></div>
        <div class="day" data-day="13"><div class="day-number">13</div><div class="day-content">Découverte mystique 13</div></div>
        <div class="day" data-day="14"><div class="day-number">14</div><div class="day-content">Découverte mystique 14</div></div>
        <div class="day" data-day="15"><div class="day-number">15</div><div class="day-content">Découverte mystique 15</div></div>
        <div class="day" data-day="16"><div class="day-number">16</div><div class="day-content">Découverte mystique 16</div></div>
        <div class="day" data-day="17"><div class="day-number">17</div><div class="day-content">Découverte mystique 17</div></div>
        <div class="day" data-day="18"><div class="day-number">18</div><div class="day-content">Découverte mystique 18</div></div>
        <div class="day" data-day="19"><div class="day-number">19</div><div class="day-content">Découverte mystique 19</div></div>
        <div class="day" data-day="20"><div class="day-number">20</div><div class="day-content">Découverte mystique 20</div></div>
        <div class="day" data-day="21"><div class="day-number">21</div><div class="day-content">Découverte mystique 21</div></div>
        <div class="day" data-day="22"><div class="day-number">22</div><div class="day-content">Découverte mystique 22</div></div>
        <div class="day" data-day="23"><div class="day-number">23</div><div class="day-content">Découverte mystique 23</div></div>
        <div class="day" data-day="24"><div class="day-number">24</div><div class="day-content">Découverte mystique 24</div></div>
    </div>
</body>
</html>
