<!DOCTYPE html>
<html lang="fr">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Calendrier de l'Avent Ésotérique - Roue de la Fortune</title>
<style>
    body {
        font-family: Arial, sans-serif;
        background-color: #000;
        color: #fff;
        text-align: center;
        margin: 0;
        padding: 0;
    }

    h1 {
        font-size: 2em;
        margin: 20px 0;
        color: #e0e0e0;
        font-family: 'Courier New', Courier, monospace;
        text-shadow: 2px 2px 4px #444;
    }

    .calendar {
        display: grid;
        grid-template-columns: repeat(6, 1fr);
        gap: 10px;
        max-width: 900px;
        margin: 0 auto;
        padding: 20px;
    }

    .day {
        background-color: #222;
        border-radius: 10px;
        color: #ddd;
        padding: 15px;
        font-size: 1.2em;
        position: relative;
        cursor: pointer;
        transition: all 0.3s ease;
    }

    .day.winner, .day.loser {
        color: #fff;
    }

    .day-number {
        font-size: 2em;
        font-weight: bold;
        margin-bottom: 10px;
    }

    .day-content {
        font-size: 1.5em;
        color: #b3e5fc;
        display: none;
    }

    .day.opened .day-content {
        display: block;
    }

    .day.opened .day-number {
        display: none;
    }

    .day.winner {
        background-color: #4caf50;
    }

    .day.loser {
        background-color: #f44336;
    }

    /* Style de la roulette */
    .wheel-container {
        display: none;
        position: fixed;
        top: 50%;
        left: 50%;
        transform: translate(-50%, -50%);
        width: 300px;
        height: 300px;
        border-radius: 50%;
        overflow: hidden;
        border: 8px solid #fff;
        box-shadow: 0 0 10px rgba(255, 255, 255, 0.5);
    }

    .wheel {
        width: 100%;
        height: 100%;
        position: relative;
        transform: rotate(0deg);
        transition: transform 5s cubic-bezier(0.33, 1, 0.68, 1);
    }

    .wheel .segment {
        width: 50%;
        height: 50%;
        background-color: #eee;
        position: absolute;
        transform-origin: 100% 100%;
        text-align: center;
        font-size: 1em;
        font-weight: bold;
        padding-top: 20px;
        color: #222;
    }

    .wheel .segment:nth-child(odd) { background-color: #f8b400; }
    .wheel .segment:nth-child(even) { background-color: #f85a3e; }

    .popup {
        display: none;
        position: fixed;
        top: 50%;
        left: 50%;
        transform: translate(-50%, -50%);
        background: #333;
        padding: 20px;
        color: #fff;
        border-radius: 10px;
        box-shadow: 0 0 15px rgba(255, 255, 255, 0.2);
    }
</style>
<script>
    document.addEventListener("DOMContentLoaded", function() {
        const days = document.querySelectorAll(".day");
        const lots = ["Bijou en pierre de lune", "Carte de tarot personnalisée", "Eau de lune", "Pierre de quartz rose", "Lecture de tarot gratuite"];
        const segments = 360 / lots.length;
        const popup = document.createElement("div");
        popup.className = "popup";
        document.body.appendChild(popup);

        // Créer la roue avec les segments de lots
        const wheelContainer = document.createElement("div");
        wheelContainer.className = "wheel-container";
        const wheel = document.createElement("div");
        wheel.className = "wheel";
        wheelContainer.appendChild(wheel);
        document.body.appendChild(wheelContainer);

        lots.forEach((lot, index) => {
            const segment = document.createElement("div");
            segment.className = "segment";
            segment.style.transform = `rotate(${index * segments}deg) skewY(-${90 - segments}deg)`;
            segment.textContent = lot;
            wheel.appendChild(segment);
        });

        days.forEach(day => {
            day.addEventListener("click", function() {
                const winner = Math.random() < 0.5;
                let message;

                day.classList.remove("winner", "loser");

                if (winner) {
                    message = "Gagné ! Cliquez pour voir votre lot !";
                    day.classList.add("winner");
                    showWheel(); // Afficher la roulette
                } else {
                    message = "Perdu ! Retentez votre chance !";
                    day.classList.add("loser");
                }

                day.querySelector(".day-content").textContent = message;
                day.classList.add("opened");
            });
        });

        function showWheel() {
            wheelContainer.style.display = "block";
            const randomAngle = Math.floor(Math.random() * 360) + 720; // Angle aléatoire + plusieurs tours
            wheel.style.transform = `rotate(${randomAngle}deg)`;

            setTimeout(() => {
                wheelContainer.style.display = "none";
                const winningSegment = Math.floor((randomAngle % 360) / segments);
                const winningLot = lots[winningSegment];
                showPopup(`Vous avez gagné : ${winningLot}!`);
            }, 5000);
        }

        function showPopup(message) {
            popup.textContent = message;
            popup.style.display = "block";
            setTimeout(() => {
                popup.style.display = "none";
            }, 4000);
        }
    });
</script>
</head>
<body>
    <h1>Calendrier de l'Avent Ésotérique - Roue de la Fortune</h1>
    <div class="calendar">
        <div class="day" data-day="1"><div class="day-number">1</div><div class="day-content">Découverte mystique 1</div></div>
        <div class="day" data-day="2"><div class="day-number">2</div><div class="day-content">Découverte mystique 2</div></div>
        <div class="day" data-day="3"><div class="day-number">3</div><div class="day-content">Découverte mystique 3</div></div>
        <div class="day" data-day="4"><div class="day-number">4</div><div class="day-content">Découverte mystique 4</div></div>
        <div class="day" data-day="5"><div class="day-number">5</div><div class="day-content">Découverte mystique 5</div></div>
        <div class="day" data-day="6"><div class="day-number">6</div><div class="day-content">Découverte mystique 6</div></div>
        <div class="day" data-day="7"><div class="day-number">7</div><div class="day-content">Découverte mystique 7</div></div>
        <div class="day" data-day="8"><div class="day-number">8</div><div class="day-content">Découverte mystique 8</div></div>
        <div class="day" data-day="9"><div class="day-number">9</div><div class="day-content">Découverte mystique 9</div></div>
        <div class="day" data-day="10"><div class="day-number">10</div><div class="day-content">Découverte mystique 10</div></div>
        <div class="day" data-day="11"><div class="day-number">11</div><div class="day-content">Découverte mystique 11</div></div>
        <div class="day" data-day="12"><div class="day-number">12</div><div class="day-content">Découverte mystique 12</div></div>
        <div class="day" data-day="13"><div class="day-number">13</div><div class="day-content">Découverte mystique 13</div></div>
        <div class="day" data-day="14"><div class="day-number">14</div><div class="day-content">Découverte mystique 14</div></div>
        <div class="day" data-day="15"><div class="day-number">15</div><div class="day-content">Découverte mystique 15</div></div>
        <div class="day" data-day="16"><div class="day-number">16</div><div class="day-content">Découverte mystique 16</div></div>
        <div class="day" data-day="17"><div class="day-number">17</div><div class="day-content">Découverte mystique 17</div></div>
        <div class="day" data-day="18"><div class="day-number">18</div><div class="day-content">Découverte mystique 18</div></div>
        <div class="day" data-day="19"><div class="day-number">19</div><div class="day-content">Découverte mystique 19</div></div>
        <div class="day" data-day="20"><div class="day-number">20</div><div class="day-content">Découverte mystique 20</div></div>
        <div class="day" data-day="21"><div class="day-number">21</div><div class="day-content">Découverte mystique 21</div></div>
        <div class="day" data-day="22"><div class="day-number">22</div><div class="day-content">Découverte mystique 22</div></div>
        <div class="day" data-day="23"><div class="day-number">23</div><div class="day-content">Découverte mystique 23</div></div>
        <div class="day" data-day="24"><div class="day-number">24</div><div class="day-content">Découverte mystique 24</div></div>
    </div>
</body>
</html>
