<!DOCTYPE html>
<html lang="fr">
<head>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
    <!-- Google Tag Manager -->
<script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
'https://www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
})(window,document,'script','dataLayer','GTM-PMTZHZKR');</script>
<!-- End Google Tag Manager -->
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>La Flamme de l'Ombre</title>
    <style>
        body {
            background-color: black;
            color: white;
            font-family: Arial, sans-serif;
            margin: 0;
            padding: 0;
            text-align: center;
        }
        header { padding: 20px; }
        h1 { font-size: 3em; margin: 0.2em 0; }
        p { font-size: 1.5em; margin-top: 10px; }
        nav ul {
            list-style-type: none; padding: 0; margin: 20px 0;
            display: flex; flex-wrap: wrap; justify-content: center;
        }
        nav ul li { margin: 10px 15px; }
        nav ul li a { color: white; text-decoration: none; font-weight: bold; }
        nav ul li a:hover { text-decoration: underline; }

        /* Formulaire */
        .form-container {
            max-width: 700px;
            margin: 40px auto;
            background: #111;
            padding: 20px;
            border-radius: 10px;
            text-align: left;
        }
        .form-container h2 {
            text-align: center;
            color: #fff;
        }
        .info-box {
            background: #222;
            border-left: 4px solid #007bff;
            padding: 10px;
            margin-bottom: 15px;
            border-radius: 6px;
            color: #fff;
            font-size: 1em;
        }
        .form-container label {
            display: block;
            margin-top: 10px;
            font-weight: bold;
        }
        .form-container input, .form-container textarea, .form-container select {
            width: 100%; padding: 10px; margin-top: 5px;
            border-radius: 6px; border: 1px solid #555;
            background: #222; color: #fff; box-sizing: border-box;
        }
        .form-container button {
            margin-top: 15px;
            padding: 12px 18px;
            border: none; border-radius: 6px;
            background: #007bff; color: white; cursor: pointer;
        }
        .form-container button:hover { background: #0056b3; }
        .message {
            margin-top: 12px;
            padding: 10px;
            border-radius: 6px;
        }
        .success { background: #e6fff0; border: 1px solid #7ad6a7; color: #055b33; }
        .error { background: #fff0f0; border: 1px solid #f1a0a0; color: #7a1b1b; }

        /* Media queries */
        @media (max-width: 768px) {
            h1 { font-size: 2.5em; }
            p { font-size: 1.2em; }
        }
        @media (max-width: 480px) {
            h1 { font-size: 2em; }
            p { font-size: 1em; }
            nav ul li { margin: 10px 5px; }
        }
    </style>
</head>
<body>
<noscript><iframe src="https://www.googletagmanager.com/ns.html?id=GTM-PMTZHZKR"
height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript>

<header>
    <h1>La Flamme de l'Ombre</h1>
    <p>Cartomancien, cr√©ateur</p>
</header>

<nav>
    <ul>
        <li><a href="about.html">√Ä propos</a></li>
        <li><a href="services.html">Services</a></li>
        <li><a href="products.html">Produits</a></li>
        <li><a href="contact.html">Contact</a></li>
        <li><a href="avis.html">Avis</a></li>
        <li><a href="carte.html">Carte du jour</a></li>
    </ul>
</nav>

<!-- Formulaire -->
<div class="form-container">
    <h2>Pose ta question</h2>
    <div class="info-box">
        Les <strong>3 premi√®res questions sont gratuites</strong> üéÅ. Ensuite, chaque question est √† <strong>5 ‚Ç¨</strong>.<br>
        Remplissez les champs concernant une personne tierce <strong>seulement si votre question concerne une autre personne</strong>.
    </div>
    <form id="questionForm" action="https://formspree.io/f/movkbvlr" method="POST">
        <label>Nom *</label>
        <input type="text" name="nom" required>

        <label>Pr√©nom *</label>
        <input type="text" name="prenom" required>

        <label>√Çge *</label>
        <input type="number" name="age" min="1" required>

        <label>Adresse email *</label>
        <input type="email" name="email" placeholder="exemple@domaine.com" required>

        <label>Nom personne tierce</label>
        <input type="text" name="nom_tiers" placeholder="Uniquement si question concerne une autre personne">

        <label>Pr√©nom personne tierce</label>
        <input type="text" name="prenom_tiers" placeholder="Uniquement si question concerne une autre personne">

        <label>√Çge personne tierce</label>
        <input type="number" name="age_tiers" min="1" placeholder="Uniquement si question concerne une autre personne">

        <label>Question pr√©cise *</label>
        <textarea name="question" required></textarea>

        <label>Temporalit√© *</label>
        <select name="temporalite" required>
            <option value="">-- Choisissez --</option>
            <option value="3 mois">Dans les 3 mois</option>
            <option value="1 an">Dans l'ann√©e</option>
            <option value="ann√©e en cours">Dans l‚Äôann√©e en cours</option>
            <option value="2 ans">Dans les 2 ans</option>
            <option value="3 ans">Dans les 3 ans</option>
            <option value="non concern√©">Non concern√© par la temporalit√©</option>
        </select>

        <button type="submit">Envoyer la question</button>
    </form>
    <div id="status"></div>
</div>

<script>
const form = document.getElementById('questionForm');
const statusDiv = document.getElementById('status');

form.addEventListener('submit', function(event) {
    event.preventDefault();
    const formData = new FormData(form);
    const actionUrl = form.action;

    fetch(actionUrl, {
        method: 'POST',
        body: formData,
        headers: {
            'Accept': 'application/json'
        }
    })
    .then(response => {
        if (response.ok) {
            statusDiv.innerHTML = '<div class="message success">‚úÖ Question envoy√©e ! La Flamme reviendra vers vous par email le plus vite possible.</div>';
            form.reset();
        } else {
            statusDiv.innerHTML = '<div class="message error">‚ùå Une erreur est survenue. Veuillez r√©essayer.</div>';
        }
    })
    .catch(() => {
        statusDiv.innerHTML = '<div class="message error">‚ùå Une erreur est survenue. Veuillez r√©essayer.</div>';
    });
});
</script>

</body>
</html>
